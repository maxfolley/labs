this.oak=function(){"use strict";function t(t){for(var e in t)n.core.prototype[e]=t[e]}var e="0.0.3",n={},i={_identifier:/^#[a-zA-Z\-_]+$/,_splitter:/\s+/,_arrProto:Array.prototype,_funcProto:Function.prototype,_objProto:Object.prototype,_strProto:String.prototype,each:function(t,e,n){if(i._arrProto.forEach&&t.forEach===i._arrProto.forEach)return t.forEach(e,n);if(t.length){var r,o=t.length;for(r=0;o>r;r+=1)if(e.call(n,t[r],r,t)==={})return}else{var a;for(a in t)if(i._objProto.hasOwnProperty.call(t,a)&&e.call(n,t[a],a,t)==={})return}},defined:function(){var t,e=i._arrProto.slice.call(arguments,0),n=e.length;for(t=0;n>t;t+=1)if(e[t]===void 0)return!1;return!0},exists:function(){var t,e=i._arrProto.slice.call(arguments,0),n=e.length;for(t=0;n>t;t+=1)if(e[t]===void 0||!e[t])return!1;return!0},extend:function(t){var e=i._arrProto.slice.call(arguments,1);return i.each(e,function(e){if(e)for(var n in e)t[n]=e[n]}),t},isArray:Array.isArray||function(t){return"[object Array]"===i._objProto.toString.call(t)},isElement:function(t){return t instanceof HTMLElement},isEmpty:function(t){if(null==t)return!0;if(i.isArray(t)||i.isString(t))return 0===t.length;for(var e in t)if(i._objProto.hasOwnProperty.call(t,e))return!1;return!0},isNode:function(t){return 1===t.nodeType},isStrap:function(t){return n.core.prototype.isPrototypeOf(t)},privateKey:"oak"+(e+Math.random()).replace(/\D/g,"")};return n.core=function(){},n.core.prototype={add:function(t){if(t.length){var e,n=t.length;for(e=0;n>e;e+=1)this.push(t[e])}else this.push(t);return this},each:function(t,e){return i.each(this,t,e),this},extend:function(){var t=[this].concat(i._arrProto.slice.call(arguments,0));return i.extend.apply(i,t),this},push:i._arrProto.push,splice:i._arrProto.splice},i.strap=function(t,e){var r=new n.core;if("string"==typeof t)i._identifier.test(t)?(r[0]=document.getElementById(t.substr(1)),r.length=1):r.add(document.querySelectorAll(t));else{if(i.defined(t)&&i.defined(t.find,e)&&"string"==typeof e)return t.find(e);arguments.length&&r.add(i._arrProto.slice.call(arguments,0))}return r},i.core={extend:function(){var t=[i].concat(i._arrProto.slice.call(arguments,0));i.extend.apply(i,t)},expose:t},i.each(["Arguments","Date","Function","Number","RegExp","String"],function(t){i["is"+t]=function(e){return i._objProto.toString.call(e)==="[object "+t+"]"}}),"function"==typeof define&&define.amd&&define(i),i}(),function(t){"use strict";function e(t){var e,n,i;if(t in l)return o(t);for(n=t.charAt(0).toUpperCase()+t.substr(1),e=0;d>e;e+=1)if(i=h[e]+n,i in l)return o(i)}function n(){return-1!==navigator.appVersion.indexOf("MSIE")?!0:!1}function i(t){var e;return f.isIE===!0&&(e=parseFloat(navigator.appVersion.split("MSIE")[1])),e===t}function r(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||window.navigator.msMaxTouchPoints?!0:!1}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function a(){return window.DeviceOrientationEvent?"deviceOrientation":window.orientationEvent?"MozOrientation":void 0}function s(){if(c.canvas===!1)return 1;var t=f._dummyCtx,e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}var c,u={animation:"animationend","-moz-animation":"animationend","-webkit-animation":"webkitAnimationEnd"},h=["Moz","Webkit","O","ms"],d=h.length,l=(document.body||document.documentElement).style,f={};c={animation:e("animation"),animationDelay:e("animationDelay"),animationDirection:e("animationDirection"),animationDuration:e("animationDuration"),animationFillMode:e("animationFillMode"),animationIterationCount:e("animationIterationCount"),animationName:e("animationName"),animationPlayState:e("animationPlayState"),animationTimingFunction:e("animationTimingFunction"),ie:n(),isIEVersion:i,isTouch:r(),deviceMotion:window.DeviceMotionEvent?!0:!1,orientation:window.DeviceOrientationEvent||window.OrientationEvent?!0:!1,orientationEvent:a(),getProp:e,perspective:e("perspective"),perspectiveOrigin:e("perspective-origin"),pixelRatio:window.devicePixelRatio||1,prefixes:h,transition:e("transition"),transitionDelay:e("transitionDelay"),transitionDuration:e("transitionDuration"),transitionProperty:e("transitionProperty"),transitionTimingFunction:e("transitionTimingFunction"),transform:e("transform")},f._dummyCanvas=document.createElement("canvas"),f._dummyCanvas!==void 0&&f._dummyCanvas.getContext&&(f._dummyCtx=f._dummyCanvas.getContext("2d")),c.animationEnd=u[c.animation],c.canvas=t.defined(f._dummyCtx),c.cssanimations=c.animation===void 0?!1:!0,c.csstransitions=c.transition===void 0?!1:!0;var v,p={ontransitionend:"transitionend",onotransitionend:"oTransitionEnd",onwebkittransitionend:"webkitTransitionEnd"},g={transition:"transitionend","-moz-transition":"transitionend","-o-transition":"oTransitionEnd","-webkit-transition":"webkitTransitionEnd","-ms-transition":"MSTransitionEnd"};for(v in p)if(v in window){c.transitionEnd=p[v];break}c.transitionEnd===void 0&&(c.transitionEnd=g[c.transition]),c.deviceBackingRatio=s(),f.support=c,t.core.extend(f)}(oak),function(t){"use strict";var e,n,i={},r=0,o=t.support.prefixes;if(window.requestAnimationFrame)n=window.requestAnimationFrame;else for(var a=0;o.length>a&&!i.requestAnimationFrame;a+=1)n=window[o[a]+"RequestAnimationFrame"],e=window[o[a]+"CancelAnimationFrame"]||window[o[a]+"CancelRequestAnimationFrame"];i.cancelAnimationFrame=e?function(){e.apply(window,arguments)}:function(t){clearTimeout(t)},i.requestAnimationFrame=n?function(){n.apply(window,arguments)}:function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),i=window.setTimeout(function(){t(e+n)},n);return r=e+n,i},t.core.extend(i)}(oak),Function.prototype.method=function(t,e){return this.prototype[t]=e,this},Function.method("inherits",function(t){var e=this.prototype=new t;return e._super=function(t){"function"==typeof e[t]&&(arguments.length>1?e[t].apply(this,oak._arrProto.slice.call(arguments,1)):e[t].call(this))},this}),oak.Base=function(){this.trigger=function(){}},oak.Evented=function(){this.on=function(t,e){if(!oak.defined(t,e))return this;this.events=this.events||{};var n=this.events[t]||(this.events[t]=[]);return n.push(e),this},this.off=function(t,e){if(!oak.defined(t,this.events)||!oak.defined(this.events[t]))return this;if(oak.defined(e)){var n=this;oak.each(this.events[t],function(i,r){i===e&&n.events[t].splice(r,1)})}return oak.defined(e)&&0!==this.events[t].length||delete this.events[t],this},this.once=function(t,e){if(!oak.defined(t,e))return this;var n=function(){e.apply(this,arguments),this.off(t,n)};return this.on(t,n)},this.trigger=function(t){if(!oak.defined(t,this.events)||!oak.defined(this.events[t]))return this;var e=this,n=oak._arrProto.slice.call(arguments,1);return oak.each(this.events[t],function(t){t.apply(e,n)}),this}}.inherits(oak.Base),oak.Statable=function(){this.currentState=void 0,this.states={},this.setState=function(t){var e,n,i=t;(this.currentState===void 0||i!==this.currentState)&&(n=this.states["on"+i.replace(/^\w/,function(t){return t.toUpperCase()})],this.currentState!==void 0&&(e=this.states["off"+this.currentState.replace(/^\w/,function(t){return t.toUpperCase()})]),this.currentState=i,n!==void 0&&n.apply(this),e!==void 0&&e.apply(this))}}.inherits(oak.Evented),function(){var t=function(){if(oak.support.canvas){var t,e,n=0,i=0,r=[],o=[],a=this,s=[];this.paused=!1,this.delta=0,this.fps=0,this.frameRate=30,this.pixelRatio=oak.support.pixelRatio>=2?2:1,this.deviceBackingRatio=oak.support.deviceBackingRatio>=2?2:1,this._init=function(){t="hidden",t in document?document.addEventListener("visibilitychange",this._onVisibility):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",this._onVisibility):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this._onVisibility):(t="msHidden")in document?document.addEventListener("msvisibilitychange",this._onVisibility):"onfocusin"in document?document.onfocusin=document.onfocusout=this._onVisibility:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this._onVisibility},this._onVisibility=function(n){n=n||window.event,e=(new Date).getTime();var i={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"},r=i[n.type];r=r!==void 0?r:a[t]?"hidden":"visible","hidden"===r?a.toggle(!0):"visible"===r&&setTimeout(function(){a.toggle(!1)},100),a.trigger("visibility",r)},this.addToStack=function(t){o.push(t),n=o.length},this.callLater=function(t,e,n){r.push({callback:t,args:e,scope:n||null})},this.cancelTimeout=function(t){var e=s.indexOf(t);return-1!==e?(s.splice(e,1),i=s.length,!0):!1},this.draw=function(){var t,a,c,u=(new Date).getTime(),h=u-(e||u);for(this.delta=h/this.frameRate,e=u,this.fps=Math.round(1/(h/1e3)),a=0;r.length>a;a+=1)t=r[a],t.callback.apply(t.scope,t.args);if(r.length=0,this.paused===!1&&(oak.requestAnimationFrame(this.draw),160>this.delta)){for(oak.tweener.update(),a=0;n>a;a+=1)o[a].frame();for(a=0;i>a;a+=1)c=s[a],c.time+=this.frameRate*this.delta,c.time>=c.delay&&(c.callback.apply(c.scope,c.args),s.splice(a,1),i=s.length,a-=1)}},this.measureText=function(t,e){return e!==void 0&&oak._dummyCtx.font!==e&&(oak._dummyCtx.font=e),oak._dummyCtx.measureText(t)},this.removeFromStack=function(t){var e=o.indexOf(t);e>=0&&(o.splice(e,1),n=o.length)},this.startup=function(){var t=oak.strap("body");t.removeClass("preload").addClass("loaded"),oak.requestAnimationFrame(this.draw),this.setState("startup")},this.timeout=function(t,e,n){var r={time:0,delay:t,callback:e,scope:n||null,args:oak._arrProto.slice.call(arguments,3)};return s.push(r),i=s.length,r},this.toggle=function(t){this.paused=t,this.paused===!1?(e=(new Date).getTime(),oak.tweener.resume(),oak.requestAnimationFrame(this.draw),this.trigger("rendererResumed")):(oak.tweener.pause(),this.trigger("rendererPaused"))},window.toggleRenderer=this.toggle,this._init()}}.inherits(oak.Statable);oak.canvas=oak.canvas||{},oak.canvas.renderer=new t}(),oak.canvas=oak.canvas||{},oak.canvas.Display=function(){this.globalOpacity=0,this.globalRotation=0,this.globalX=0,this.globalY=0,this.globalScale=1,this.children=[],this.deltaX=0,this.deltaY=0,this.index=-1,this.keeper=void 0,this.numChildren=0,this.opacity=1,this.centerX=0,this.centerY=0,this.rotation=0,this.x=0,this.y=0,this.width=0,this.height=0,this.scale=1,this.stage=void 0,this.visible=!0,this._init=function(){this.calc()},this.assignStage=function(t){this.stage!==void 0&&t.setStage(this.stage)},this.addChild=function(t){t.keeper=this,this.children.push(t),t.index=this.numChildren,this.numChildren=this.children.length,t.added(),this.assignStage(t)},this.addChildAt=function(t,e){oak.isNumber(e)&&(t.keeper=this,this.children.splice(e,0,t),t.index=e,this.numChildren=this.children.length,t.added(),this.assignStage(t))},this.added=function(){},this.addedToStage=function(){},this.setStage=function(t){this.stage=t,this.addedToStage();var e;for(e=0;this.numChildren>e;e+=1)this.children[e].setStage(t)},this.calc=function(){var t=this.keeper;this.globalX=this.x+this.deltaX,this.globalY=this.y+this.deltaY,this.globalX=t?t.globalX+this.globalX:this.globalX,this.globalY=t?t.globalY+this.globalY:this.globalY,this.globalRotation=t?t.globalRotation+this.rotation:this.rotation,this.globalOpacity=t?t.globalOpacity*this.opacity:this.opacity,this.globalScale=t?t.globalScale*this.scale:this.scale},this.render=function(t){if(this.calc(),this.visible===!1)return!1;this.save(t),this.draw(t),this.restore(t);var e,n;for(n=0;this.numChildren>n;n+=1)e=this.children[n],e.render(t);return!0},this.draw=function(t){t.translate(this.globalX,this.globalY),t.rotate(this.globalRotation);var e=0===this.globalScale?.01:this.globalScale;t.scale(e,e),t.globalAlpha=this.globalOpacity},this.restore=function(t){t.restore()},this.save=function(t){t.save()},this.removeChild=function(t){var e=this.children.indexOf(t);0>e||(this.children.splice(e,1),this.numChildren=this.children.length,t.removed(),t.keeper=void 0,t.stage=void 0)},this.removed=function(){},this.setIndex=function(t){return this.stage?this.stage.setChildIndex(this,t):-1},this._init()}.inherits(oak.Statable),oak.canvas=oak.canvas||{},oak.canvas.Stage=function(t){if(void 0!==t){var e=[],n={x:0,y:0},i={left:0,top:0};this.backgroundColor="#FFF",this.opaque=!1,this._init=function(){var e,n,i=["out","over","click","mousedown","mouseup","mousemove"],r=function(t){return function(e,n){this._addEventedHandler(t,e,n,Array.prototype.slice.call(arguments,2))}},o=function(t){return function(e){this._removeEventedHandler(t,e)}};for(e=0;i.length>e;e+=1)n=i[e],this[n]=r(n),this["remove"+n.charAt(0).toUpperCase()+n.slice(1)]=o(n);return"string"==typeof t.id&&oak._identifier.test(t.id)?this.canvas=document.getElementById(t.id):t.el!==void 0&&oak.isNode(t.el)?this.canvas=t.el:t.container!==void 0&&oak.isStrap(t.container)&&(this.canvas=document.createElement("canvas"),t.container.append(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.strap=oak.strap(this.canvas),this._addListeners(),this.pixelReady()},this._addListeners=function(){oak.support.isTouch?(this.canvas.addEventListener("touchstart",this._onTouchStart,!1),this.canvas.addEventListener("touchmove",this._onTouchMove,!1),this.canvas.addEventListener("touchend",this._onTouchEnd,!1)):(this.canvas.addEventListener("click",this._onClick,!1),this.canvas.addEventListener("mousedown",this._onMouseDown,!1),this.canvas.addEventListener("mousemove",this._onMouseMove,!1),this.canvas.addEventListener("mouseup",this._onMouseUp,!1))},this._removeListeners=function(){this.canvas.removeEventListener("touchstart",this._onTouchStart),this.canvas.removeEventListener("touchmove",this._onTouchMove),this.canvas.removeEventListener("touchend",this._onTouchEnd),this.canvas.removeEventListener("click",this._onClick),this.canvas.removeEventListener("mousedown",this._onMouseDown),this.canvas.removeEventListener("mousemove",this._onMouseMove),this.canvas.removeEventListener("mouseup",this._onMouseUp)},this._addEventedHandler=function(t,n,i,r){var o=this._getObserver(n);o===void 0&&(o={target:n,isOver:!1},e.push(o)),o[t]={callback:i,args:r},this._mouseIsOver(n)&&n.visible&&this.strap.css("cursor","pointer")},this._checkCursor=function(){var t,n,i=e.length,r="default";for(t=0;i>t;t+=1)n=e[t],this._mouseIsOver(n.target)?(r=n.target.cursor||"pointer",n.isOver===!1&&oak.defined(n.over)&&n.over.callback.apply(n.target,n.over.args),n.isOver===!1&&oak.defined(n.mousemove)&&n.mousemove.callback.apply(n.target,n.over.args),n.isOver=!0):(n.isOver===!0&&oak.defined(n.out)&&n.out.callback.apply(n.target,n.out.args),n.isOver=!1);this.strap.css("cursor",r)},this._getObserver=function(t){var n,i=e.length;for(n=0;i>n;n+=1)if(e[n].target===t)return e[n]},this._mouseIsOver=function(t){return t.visible?n.x>=t.globalX-t.centerX&&n.x<=t.globalX-t.centerX+t.width&&n.y>=t.globalY-t.centerY&&n.y<=t.globalY-t.centerY+t.height?!0:!1:!1},this._calcMouse=function(t){n.x=t.pageX-i.left,n.y=t.pageY-i.top},this._onClick=function(t){this._calcMouse(t),this._triggerMouseEvent("click")},this._onMouseDown=function(t){this._calcMouse(t),this._triggerMouseEvent("mousedown")},this._onMouseMove=function(t){this._calcMouse(t),this._checkCursor()},this._onMouseUp=function(t){this._calcMouse(t),this._triggerMouseEvent("mouseup")},this._onTouchEnd=function(){this._triggerMouseEvent("mouseup"),this._triggerMouseEvent("click")},this._onTouchMove=function(t){var e=t.touches.item(0);n.x=e.clientX,n.y=e.clientY},this._onTouchStart=function(t){var e=t.touches.item(0);n.x=e.clientX,n.y=e.clientY,this._triggerMouseEvent("mousedown")},this._triggerMouseEvent=function(t){var n,i,r,o=e.length;for(n=o-1;n>-1;n-=1)if(i=e[n],r=i.target,i[t]!==void 0&&this._mouseIsOver(r))return i[t].callback.apply(i.target,i[t].args),void 0},this._removeEventedHandler=function(t,n){var i=this._getEvented(n);if(void 0!==i&&(i[t]!==void 0&&delete i[t],i.click===void 0&&"unfeined"==typeof i.over&&i.out===void 0)){var r=e.indexOf(i);r>=0&&e.splice(r,1)}},this.addChild=function(t){t.setStage(this),this._super("addChild",t)},this.addChildAt=function(t,e){t.setStage(this),this._super("addChildAt",t,e)},this.click=function(t,e){this._addEventedHandler("click",t,e,Array.prototype.slice.call(arguments,2))},this.disable=function(){this._removeListeners(),this.strap.css("cursor","auto")},this.enable=function(){this._addListeners()},this.frame=function(){this.opaque?(this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)):this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.render(this.ctx)},this.out=function(t,e){this._addEventedHandler("out",t,e,Array.prototype.slice.call(arguments,2))},this.over=function(t,e){this._addEventedHandler("over",t,e,Array.prototype.slice.call(arguments,2))},this.pixelReady=function(){return this.canvas.height=this.height*oak.canvas.renderer.deviceBackingRatio,this.canvas.width=oak.canvas.renderer.deviceBackingRatio>1?this.width*oak.canvas.renderer.deviceBackingRatio-1:this.width*oak.canvas.renderer.deviceBackingRatio,this.canvas.style.height=this.height+"px",this.canvas.style.width=this.width+"px",this.ctx.scale(oak.canvas.renderer.deviceBackingRatio,oak.canvas.renderer.deviceBackingRatio),this},this.removeEvented=function(t){delete e[t]},this.setChildIndex=function(t,e){var n=this.children.indexOf(t);return n>=0?(this.children.splice(n,1),this.children.splice(e,0,t),t.index=e,e):-1},this._init()}}.inherits(oak.canvas.Display),oak.canvas=oak.canvas||{},oak.canvas.Sprite=function(){var t;this.bounds={left:0,right:0,top:0,bottom:0},this.defineBounds=function(e){t=e},this.isVisible=function(){if(t!==void 0){var e=this.globalX-this.centerX,n=this.globalY-this.centerY;this.bounds.left=e+t.left,this.bounds.top=n+t.top,this.bounds.right=e+t.right,this.bounds.bottom=n+t.bottom}else if(0===this.rotation)this.bounds.left=this.globalX-this.centerX,this.bounds.top=this.globalY-this.centerY,this.bounds.right=this.bounds.left+this.width,this.bounds.bottom=this.bounds.top+this.height;else{var i,r,o,a,s,c,u,h,d=this.globalX-this.centerX,l=this.globalY-this.centerY,f=d+this.width,v=l+this.height,p=this.globalX,g=this.globalY,m=this.rotation,b=Math.cos(m),y=Math.sin(m);i=p+(d-p)*b+(l-g)*y,r=p+(f-p)*b+(l-g)*y,o=p+(f-p)*b+(v-g)*y,a=p+(d-p)*b+(v-g)*y,s=g+(d-p)*y+(l-g)*b,c=g+(f-p)*y+(l-g)*b,u=g+(f-p)*y+(v-g)*b,h=g+(d-p)*y+(v-g)*b,this.bounds={left:Math.min(i,r,o,a),right:Math.max(i,r,o,a),top:Math.min(s,c,u,h),bottom:Math.max(s,c,u,h)}}return 0>this.bounds.bottom||this.bounds.top>this.stage.height||0>this.bounds.right||this.bounds.left>this.stage.width?!1:!0},this.render=function(t){if(this.calc(),this.isVisible()===!1)return!1;this.save(t),this.draw(t),this.restore(t);var e,n;for(n=0;this.numChildren>n;n+=1)e=this.children[n],e.render(t);return!0}}.inherits(oak.canvas.Display),oak.canvas=oak.canvas||{},oak.canvas.SheetImage=function(t){this.cropX=t.cropX||0,this.cropY=t.cropY||0,this.width=t.width||0,this.height=t.height||0,this.img=t.img,this._init=function(){return this.shift(this.cropX,this.cropY),this.cropWidth=this.width*oak.canvas.renderer.pixelRatio,this.cropHeight=this.height*oak.canvas.renderer.pixelRatio,this};var e=this.draw;this.draw=function(t,n,i){n=n||0,i=i||0,e(t),this.keeper&&t.drawImage(this.img,this.cropX,this.cropY,this.cropWidth,this.cropHeight,-this.centerX+n,-this.centerY+i,this.width,this.height)},this.shift=function(t,e){this.cropX=t*oak.canvas.renderer.pixelRatio,this.cropY=e*oak.canvas.renderer.pixelRatio},this._init()}.inherits(oak.canvas.Sprite),oak.canvas=oak.canvas||{},oak.canvas.Image=function(){var t=new Image,e=this;this.loaded=!1,this.nativeWidth=t.width,this.nativeHeight=t.height,this.load=function(n){return n===void 0?(console.error("No source was provided for the image."),void 0):(t.onload=function(){t.onload=void 0,e.nativeWidth=t.width,e.nativeHeight=t.height,e.width=t.width/oak.canvas.renderer.pixelRatio,e.height=t.height/oak.canvas.renderer.pixelRatio,e.loaded=!0,e.trigger("loaded")},oak.canvas.renderer.pixelRatio>1&&(n=n.replace(/(.jpg|.png|.gif)$/,function(t){return"@2x"+t})),t.src=n,this)}}.inherits(oak.Evented),function(t){"use strict";function e(t,e){return r(t)[e]}function n(t,e){return e?a:t}function i(e,n){return n?e[t.privateKey]:e[t.privateKey]&&t.privateKey}function r(e){var r,o=t.isNode(e),a=n(e,o),c=i(e,o);return c||(o?e[t.privateKey]=c=s+=1:c=t.privateKey),r=a[c]=a[c]||{}}function o(t,e,n){var i=r(t);i[e]=n}var a={},s=0,c={data:function(n,i){if(n.match(t._splitter))throw Error("Data key must not contain whitespace");return t.defined(i)?this.each(function(t){o(t,n,i)}):this.length?e(this[0],n):void 0},removeData:function(e){return this.each(function(r){var o=t.isNode(r),a=i(r,o),s=n(r,o),c=s[a];t.defined(c)&&(delete c[e],!o&&t.isEmpty(c)&&delete r[t.privateKey])})}};t.core.expose(c)}(oak),function(t){"use strict";function e(t,e,n){t.each(function(t){t.style[e]=n})}function n(t){return t!==void 0&&null!==t}var i=document.createElement("div"),r={addClass:function(t){return this.each(function(e){if(o.hasClass(e,t)===!1){var n=e.className+(e.className.length?" ":"");n+=t,e.className=n}})},append:function(e){return this.each(function(n){t.isNode(e)?n.appendChild(e):t.isString(e)?n.appendChild(o.build(e)):t.isStrap(e)&&e.each(function(t){n.appendChild(t)})})},bounds:function(){return this[0].getBoundingClientRect()},css:function(i,r){if("object"==typeof i){var a,s;for(a in i)i.hasOwnProperty(a)&&(s=t.isString(s)?i[a]:""+i[a],a=o.toStyle(a),e(this,a,s))}else{if(i=o.toStyle(i),!n(r))return this[0].style[i]||window.getComputedStyle(this[0])[i];this.each(function(t){t.style[i]=r})}return this},find:function(e){var n,i=t.strap();return this.each(function(r){n=r.querySelectorAll(e),t.each(n,function(t){i.push(t)})}),i},forceEvent:function(t){return this.each(function(e){var n;document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!0),e.dispatchEvent(n)):(n=document.createEventObject(),e.fireEvent("on"+t,n))})},hasClass:function(t){var e=!1;return this.each(function(n){o.hasClass(n,t)&&(e=!0)}),e},html:function(t){return this.each(function(e){e.innerHTML=t})},hide:function(){return this.css("display","none")},prepend:function(e){return this.each(function(n){var i=e;t.isStrap(e)?e.each(function(t){n.children.length?n.insertBefore(t,n.firstChild):n.appendChild(t)}):(t.isString(e)?i=t.build(e):t.isNode(e)&&(i=e),n.children.length?n.insertBefore(i,n.firstChild):n.appendChild(i))})},remove:function(){return this.each(function(t){var e=t.parentNode;e&&e.removeChild(t)})},removeClass:function(t){var e,n=RegExp("\\b"+t+"\\b\\s?","g");return this.each(function(t){e=t.className.replace(n,""),t.className=e})},show:function(){return this.each(function(t){t.style.display="block"})},transform:function(e,n){var i=this.css(t.support.transform),r=RegExp("("+e+")\\([^\\(\\)]+\\)");return r.test(i)?i=i.replace(r,"$1("+n+")"):i+=" "+e+"("+n+")",this.css(t.support.transform,i),this},visible:function(e){return t.defined(e)?this.each(function(t){t.style.visibility=e===!1?"hidden":"visible"}):"hidden"!==this.css("visibility")}},o={build:function(t){i.innerHTML=t;var e=i.firstChild;return e},contains:function(t,e){if(e)for(var n;n=n.parentNode;)if(n===t[0])return!0;return!1},find:function(t){return document.querySelector(t)},findAll:function(t){return document.querySelectorAll(t)},hasClass:function(t,e){var n=!1,i=RegExp("\\b"+e+"\\b\\s?","g");return i.test(t.className)&&(n=!0),n},toDash:function(t){var e=t.replace(/^(webkit|moz|o|ms)(?=[A-Z]{1})/,function(t){return"-"+t});return e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},toStyle:function(t){return t.replace(/\b-(\w{1})|-/g,function(t){return t.replace(/\-/,"").toUpperCase()})}};t.core.expose(r),t.core.extend(o)}(oak),function(t){"use strict";var e={on:function(e,n){if(!t.defined(e,n))return this;this.events=this.events||{};var i=this.events[e]||(this.events[e]=[]);return i.push(n),this},off:function(e,n){if(!t.defined(e,this.events)||!t.defined(this.events[e]))return this;if(t.defined(n)){var i=this;t.each(this.events[e],function(t,r){t===n&&i.events[e].splice(r,1)})}return t.defined(n)&&0!==this.events[e].length||delete this.events[e],this},once:function(e,n){if(!t.defined(e,n))return this;var i=function(){n.apply(this,arguments),this.off(e,i)};return this.on(e,i)},trigger:function(e){if(!t.defined(e,this.events)||!t.defined(this.events[e]))return this;var n=this,i=t._arrProto.slice.call(arguments,1);return t.each(this.events[e],function(t){t.apply(n,i)}),this}};t.core.expose(e)}(oak),function(t){"use strict";function e(t,e,n){var i=document.getElementById(n);return i===void 0&&(i=document.createElement("canvas")),i.width=t,i.height=e,i}function n(t,e,n){return n.drawImage(t,0,0),n.getImageData(0,0,e.width,e.height)}var i,r={};i={brightness:function(t,e){for(var n=t.data,i=0;n.length>i;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e;return t},contrast:function(t,e){e=Math.pow((e+100)/100,2);for(var n,i,r,o=t.data,a=0;o.length>a;a+=4)n=o[a]/255,i=o[a+1]/255,r=o[a+2]/255,n=255*((n-.5)*e+.5),i=255*((i-.5)*e+.5),r=255*((r-.5)*e+.5),o[a]=n,o[a+1]=i,o[a+2]=r;return t},grayscale:function(t){for(var e=t.data,n=0;e.length>n;n+=4){var i=e[n],r=e[n+1],o=e[n+2],a=.2126*i+.7152*r+.0722*o;e[n]=e[n+1]=e[n+2]=a}return t},saturation:function(t,e){e*=-.01;for(var n,i=t.data,r=0;i.length>r;r+=4)n=Math.max(i[r],i[r+1],i[r+2]),i[r]=i[r]!==n?i[r]+(n-i[r])*e:i[r],i[r+1]=i[r+1]!==n?i[r+1]+(n-i[r+1])*e:i[r+1],i[r+2]=i[r+2]!==n?i[r+2]+(n-i[r+2])*e:i[r+2];return t},sepia:function(){var t,e={};e.r=Math.min(255,e.r*(1-.607*t)+e.g*.769*t+e.b*.189*t),e.g=Math.min(255,e.r*.349*t+e.g*(1-.314*t)+e.b*.168*t),e.b=Math.min(255,e.r*.272*t+e.g*.534*t+e.b*(1-.869*t))}},r.filter=function(t,r,o){var a,s=new Image;s.onload=function(){var t=e(s.width,s.height,r),c=t.getContext("2d");a=n(s,t,c);for(var u in o)i.hasOwnProperty(u)&&(a=i[u].apply(c,[a,o[u]]));c.putImageData(a,0,0,0,0,a.width,a.height)},s.src=t},t.core.extend(r)}(oak),function(t){"use strict";var e=function(){},n=function(t,e,n){var i=e[t],r=n[t];n[t]="function"==typeof i||"function"==typeof r?function(){return this._super=r,i.apply(this,arguments)}:i};e.reopen=function(t){for(var e in t)n(e,t,this.prototype);return this},e.static=function(t){for(var e in t)n(e,t,this);return this},e.create=function(t){var i=this,r=function(){this._super=i;var e=t.apply(this,arguments),o=this;for(var a in e)n(a,e,o);for(var s=0,c=r._mixins.length;c>s;s++){var u=r._mixins[s];for(a in u)n(a,u,o)}return o},o=function(t){return r._mixins.push(t),this};return r.prototype=new i,r.prototype.constructor=r,r.extend=this.extend||this.create,r._mixins=[],r.mixin=o,r.reopen=e.reopen,r.static=e.static,r},t.core.extend({Object:e})}(oak),function(t){"use strict";var e=function(e){function n(){return(!t.support.isTouch||a.autoload)&&a.load(),a}function i(){a.ctx.pause(),a.ctx.removeEventListener("play",i)}function r(){a.trigger("canPlay"),a.ctx.removeEventListener("canplay",r)}function o(){a.trigger("canPlayThrough"),a.ctx.removeEventListener("canplaythrough",o)}e=e||{},e.autoload=e.autoload||!0,e.src=e.src||void 0;var a=t.strap();return a=t.extend({autoload:e.autoload,ctx:document.createElement("audio"),src:e.src},a),a.load=function(){if(!t.defined(a.ctx,a.ctx.canPlayType,a.src))return!1;if(a.ctx.canPlayType("audio/mpeg"))a.ctx.type="audio/mpeg",a.ctx.src=a.src+".mp3";else if(a.ctx.canPlayType("audio/ogg"))a.ctx.type="audio/ogg",a.ctx.src=a.src+".ogg";else{if(!a.ctx.canPlayType("audio/wav"))return console.log("Error loading Sound asset"),!1;a.ctx.type="audio/wav",a.ctx.src=a.src+".wav"}return a.ctx.addEventListener("canplay",r,!1),a.ctx.addEventListener("canplaythrough",o,!1),a.ctx.addEventListener("play",i,!1),a.ctx.play(),a},n()};t.core.extend({Sound:e})}(oak),function(t){"use strict";var e=function n(e){function i(){return h.clone||(c=a=n(t.extend(e,{clone:!0}))),h.on("canPlayThrough",function(){s=h.ctx.duration-h.overlap}),h}function r(){return t.defined(s)?(o.ctx.currentTime>=s&&(c.ctx.currentTime=0,c.ctx.play(),o===h?(o=a,c=h):(o=h,c=a)),void 0):!1}e=e||{},e.clone=e.clone||!1,e.overlap=e.overlap||0;var o,a,s,c,u,h=t.Sound(e);return h=t.extend(h,{clone:e.clone,overlap:e.overlap,playing:!1}),o=h,h.pause=function(){return h.playing?(clearInterval(u),o.ctx.pause(),h.playing=!1,h):!1},h.play=function(){return h.playing?!1:(clearInterval(u),u=setInterval(r,15),o.ctx.play(),h.playing=!0,h)},h.stop=function(){return clearInterval(u),o.ctx.pause(),o.ctx.currentTime=0,c.ctx.pause(),c.ctx.currentTime=0,h.playing=!1,h},i()};t.core.extend({SoundLoop:e})}(oak),function(t){"use strict";var e=function n(e){function i(){if(u){for(var t=0;u>t;t+=1)a.push(r());c=a.length}return o}function r(){return n(t.extend(e,{numClones:0}))}e=e||{};var o=t.Sound(e),a=[],s=0,c=0,u=e.numClones||0;return o.play=function(){return 0!==o.ctx.currentTime&&(o.ctx.currentTime=0),c?(s=c-1>s?s+1:0,a[s].play()):o.ctx.play(),o},i()};t.core.extend({SoundSample:e})}(oak),function(t){"use strict";var e=function(e){function n(){o.ctx.currentTime>=i.end&&(clearInterval(r),o.ctx.pause())}e=e||{},e.clips=e.clips||void 0;var i,r,o=t.Sound(e),a=!1;return o=t.extend(o,{clips:e.clips}),o.pause=function(){return clearInterval(r),o.ctx.pause(),a=!0,o},o.play=function(t){return i=o.clips[t],clearInterval(r),r=setInterval(function(){n(i.end)},15),o.ctx.currentTime!==i.start&&(o.ctx.currentTime=i.start),o.ctx.play(),o},o.resume=function(){return a?(r=setInterval(function(){n(i.end)},15),o.ctx.play(),a=!1,o):!1},o.stop=function(){return clearInterval(r),o.ctx.pause(),o.ctx.currentTime=i.start,o},o};t.core.extend({SoundSprite:e})}(oak),function(t){"use strict";function e(t){t.preventDefault(),1===t.touches.length&&(l=t.touches[0].pageX,f=t.touches[0].pageY,s=l-u,c=f-h,d=Math.atan2(c,s)*(180/Math.PI))}function n(t){1===t.touches.length&&(s=0,c=0,d=0,u=t.touches[0].pageX,h=t.touches[0].pageY,l=u,f=h)}function i(t,e){return function(n){n.preventDefault();var i=Math.abs(s),r=Math.abs(c);d=0>d?180+(180-Math.abs(d)):d,r>e&&135>d&&d>=45?t.trigger("swipeDown"):i>e&&d>=135&&225>d?t.trigger("swipeLeft"):r>e&&d>=225&&315>d?t.trigger("swipeUp"):(i>e&&d>=315&&360>=d||i>e&&d>=0&&45>d)&&t.trigger("swipeRight")}}function r(r,a){var s=i(r,a.minDist),c={touchend:s,touchmove:e,touchstart:n};r.data("swipeData",c),t.each(r,function(t){t.addEventListener&&o(t,c,!0)})}function o(t,e,n){var i=n===!0?"add":"remove";for(var r in e)t[i+"EventListener"](r,e[r])}function a(e){var n=e.data("swipeData");t.defined(n)&&(t.each(e,function(t){t.removeEventListener&&o(t,n,!1)}),e.removeData("swipeData"))}var s=0,c=0,u=0,h=0,d=0,l=0,f=0,v={swipeOn:function(e){var n=t.extend({minDist:10},e);return r(this,n),this},swipeOff:function(){return a(this),this}};t.core.expose(v)}(oak),function(t){"use strict";var e={ease:"ease",easeLinear:"linear",easeOut:"ease-out",easeIn:"ease-in",easeInOut:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOnOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"};
t.core.extend({timing:e})}(oak),function(t){"use strict";function e(e,n){var a,s=!1,c=!1;t.each(n,function(u,h){t.defined(r[h])||(a=t.toDash(h),o[a]&&(a=o[h]),e[a]={value:n[h],timing:n.timing||r.timing,delay:i(n.delay,"ms"),duration:i(n.duration||r.duration,"ms")},s===!1&&"function"==typeof n.onComplete&&(s=!0,e[a].onComplete=n.onComplete),c===!1&&"function"==typeof n.fallback&&(c=!0,e[a].fallback=n.fallback))})}function n(e,n){return function i(r){if(r.target===this&&r.propertyName in n!=!1){var o,a=n[r.propertyName],s=a.onComplete;o=e.data("trans-data"),t.defined(o)?1===o.numTrans?(this.removeEventListener(t.support.transitionEnd,i),e.css(t.support.transition,o.oldCSS),e.removeData("trans-data")):(o.numTrans-=1,e.data("trans-data",o)):e.css(t.support.transition,""),"function"==typeof s&&(a.onComplete=void 0,s.call(e))}}}function i(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?t!==void 0?t+e:void 0:t}var r={duration:"500",timing:t.timing.ease,delay:"0ms",onComplete:"",fallback:""},o={transform:t.support.transform},a={};a.transition=function(i){var r,o,a,s,c={},u=0,h={},d=[];e(h,i);for(r in h)o=h[r],s=t.toDash(r)+" "+o.duration+" "+o.timing,o.delay!==void 0&&(s+=" "+o.delay),d.push(s),c[r]=o.value,u+=1;return t.support.csstransitions===!0?(a=this.data("trans-data")||{},(a.running===void 0||a.running===!1)&&(a={oldCSS:this.css(t.support.transition),onEnd:n(this,h)},this[0].addEventListener(t.support.transitionEnd,a.onEnd)),a.running=!0,a.numTrans=d.length,this.data("trans-data",a).css(t.support.transition,d.join(", ")).css(c)):o.fallback?o.fallback.call(this):this.css(c),this},t.core.expose(a)}(oak),function(t){"use strict";function e(){var t=void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();return t}var n=function(){var t,n=!1,i=[],r={};return r.add=function(t){i.push(t)},r.pause=function(){return n===!0?!1:(n=!0,t=e(),!0)},r.resume=function(){if(n===!1)return!1;n=!1;var r,o,a=i.length,s=e()-t;for(r=0;a>r;r+=1)o=i[r],o.updateStartTime(s);return!0},r.update=function(t){if(!i.length||n===!0)return!1;t=t!==void 0?t:e();var r,o,a=i.length;for(r=0;a>r;r+=1)o=i[r],o.update(t)===!1&&(i.splice(r,1),a=i.length,r-=1);return!0},r}(),i=function(e){var n,i,o,a,s=0,c=1e3,u=r.linear,h=0,d=!1,l={},f=!1,v={};return v.delay=function(t){return s=t,v},v.easing=function(t){return u=t,v},v.onComplete=function(t){return i=t,v},v.onStart=function(t){return o=t,v},v.onUpdate=function(t){return a=t,v},v.start=function(i){return t.tweener.add(this),h=void 0!==i?i:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),h+=s,t.each(n,function(t,n){l[n]=e[n]}),v},v.stop=function(){f=!0},v.to=function(t,e){return n=t,c=e||c,v},v.update=function(r){if(f===!0)return!1;if(h>r)return!0;d===!1&&(d=!0,t.defined(o)&&o.call(e));var s=(r-h)/c;s=s>1?1:s;var v,p,g=u(s);return t.each(n,function(t,i){v=l[i]||0,p=n[i],e[i]=v+(p-v)*g}),t.defined(a)&&a.call(e),s>=1?(t.defined(i)&&i.call(e),!1):!0},v.updateStartTime=function(t){h+=t},v},r={linear:function(t){return t},inQuad:function(t){return t*t},outQuad:function(t){return t*(2-t)},inOutQuad:function(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return 1- --t*t*t*t},inOutQuart:function(t){return 1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){return 1>(t*=2)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},inSin:function(t){return 1-Math.cos(t*Math.PI/2)},outSin:function(t){return Math.sin(t*Math.PI/2)},inOutSin:function(t){return.5*(1-Math.cos(Math.PI*t))},inExpo:function(t){return 0===t?0:Math.pow(1024,t-1)},outExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},inOutExpo:function(t){return 0===t?0:1===t?1:1>(t*=2)?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},inCirc:function(t){return 1-Math.sqrt(1-t*t)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*2*Math.PI/i)))},outElastic:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*2*Math.PI/i)+1)},inOutElastic:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),1>(t*=2)?-.5*n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*2*Math.PI/i):.5*n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*2*Math.PI/i)+1)},inBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},outBack:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},inOutBack:function(t){var e=2.5949095;return 1>(t*=2)?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},inBounce:function(t){return 1-r.outBounce(1-t)},outBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},inOutBounce:function(t){return.5>t?.5*r.inBounce(2*t):.5*r.outBounce(2*t-1)+.5}};t.core.extend({Tween:i,easing:r,tweener:n})}(oak),function(t){"use strict";var e=/^(\w)/,n={capitalize:function(t){return t.replace(e,function(t){return t.toUpperCase()})},degsToRads:function(t){return t*Math.PI/180},hexToRGB:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0},radsToDegs:function(t){return 180*t/Math.PI},rand:function(t,e){return Math.random()*(e-t)+t},rgbToHex:function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},shuffle:function(t){var e,n,i,r=t.length;if(0===r)return!1;for(;--r;)e=Math.floor(Math.random()*(r+1)),n=t[r],i=t[e],t[r]=i,t[e]=n;return t},shuffleString:function(t){if(t===void 0||!t||!t.length)return t;var e=""+t;return n.shuffle(e.split("")).join("")}};t.core.extend(n)}(oak);